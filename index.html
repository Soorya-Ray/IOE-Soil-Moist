<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soil Moisture Status</title>
  <style>
    body {
      background-color: green;
      color: magenta;
      text-align: center;
    }
    h1 {
      color: blue;
      font-weight: bold;
      text-transform: uppercase;
    }
    #plantStatusImage {
      width: 300px;
      height: auto;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>Soil Moisture Status</h1>
  <p id="moistureLevel">Soil Moisture: Loading...</p>
  <p id="plantStatus">Plant Status: Loading...</p>
  <img id="plantStatusImage" src="" alt="Plant Status Image">

  <script>
    // API URL for ThingSpeak (replace with your Channel ID and API Key)
    const apiURL = 'https://api.thingspeak.com/channels/YOUR_CHANNEL_ID/feeds.json?api_key=YOUR_READ_API_KEY';

    // Function to fetch data from ThingSpeak
    function fetchData() {
      fetch(apiURL)
        .then(response => response.json())
        .then(data => {
          const moistureValue = data.feeds[0].field1;  // Get the soil moisture value from Field 1
          const statusMessage = moistureValue > 600 ? "The plants are thirsty!" : "The plants are satiated!";
          
          // Update the webpage with the fetched data
          document.getElementById('moistureLevel').textContent = Soil Moisture: ${moistureValue};
          document.getElementById('plantStatus').textContent = Plant Status: ${statusMessage};

          // Display an image based on the plant's status
          const plantImage = moistureValue > 600 ? 'https://link_to_thirsty_plant_image.jpg' : 'https://link_to_satiated_plant_image.jpg';
          document.getElementById('plantStatusImage').src = plantImage;
        })
        .catch(error => {
          console.error('Error fetching data:', error);
          document.getElementById('moistureLevel').textContent = "Error fetching data.";
        });
    }

    // Fetch data every 15 seconds
    setInterval(fetchData, 15000);
    fetchData();  // Initial data fetch when the page loads
  </script>
</body>
</html>
